<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="io.renren.dao.PayConfigDao">

	<!-- 根据条件查询所有可用的支付 -->
    <select id="getPayConfigList" resultType="io.renren.entity.PayConfigEntity" parameterType="map">
		select
			id,
			pay_name,
			icon
		from 
		tb_pay_config where status = 1
		
	<if test="type != null and type != ''  and type != 6">
		 and type = #{type}
	</if>
	
	<if test="type == null">
		 and type != 2 and type != 4 and type != 6 and type != 7
	</if>
	
	<if test="type == 6">
		 and type != 2 and type != 4 and type != 1 and type != 3
	</if>
	
		order by time desc
    </select>
    
    
    <!-- 根据条件查询支付通道 -->
    <select id="getPayConfigByType" resultType="io.renren.entity.PayConfigEntity" parameterType="map">
		select
		
			*
		from 
		
		tb_pay_config where status = 1
		
		 and type = #{type}
    </select>
    
    <!-- 根据条件查询支付通道 -->
    <select id="getPayConfigById" resultType="io.renren.entity.PayConfigEntity" parameterType="map">
		select
		
			*
		from 
		
		tb_pay_config where status = 1
		
		 and id = #{id}
    </select>

</mapper>